import { EventEmitter } from 'events';
import { TransportConfig } from './transport/ITransport.js';
export type LogLevel = 'debug' | 'info' | 'warn' | 'error';
export type Logger = (level: LogLevel, message: string, meta?: unknown) => void;
export interface RconStats {
    commandsSent: number;
    commandsFailed: number;
    packetsLost: number;
    averageLatency: number;
    uptime: number;
    isConnected: boolean;
}
export interface BattleNodeConfig extends TransportConfig {
    readonly rconPassword?: string;
    readonly transportType?: 'udp' | 'tcp';
    readonly keepAliveInterval?: number;
    readonly commandTimeout?: number;
    readonly maxRetries?: number;
    readonly retryDelay?: number;
    readonly logger?: Logger;
    readonly logLevel?: LogLevel;
}
export declare interface BattleNode {
    on(event: 'message', listener: (message: string) => void): this;
    on(event: 'connected', listener: () => void): this;
    on(event: 'disconnected', listener: () => void): this;
    on(event: 'reconnecting', listener: () => void): this;
    on(event: 'error', listener: (err: Error) => void): this;
    on(event: 'loginResponse', listener: (success: boolean) => void): this;
    on(event: string | symbol, listener: (...args: any[]) => void): this;
}
export declare class BattleNode extends EventEmitter {
    private readonly transport;
    private readonly config;
    private sequence;
    private readonly pendingCommands;
    private keepAliveTimer;
    private connected;
    private loginPromise;
    private startTime;
    private readonly packetAssembler;
    private readonly commandQueue;
    private isProcessingQueue;
    private readonly stats;
    constructor(config: BattleNodeConfig);
    private setupTransport;
    private log;
    getStats(): RconStats;
    login(): Promise<void>;
    sendCommand(command: string): Promise<string>;
    private processQueue;
    private executeCommandWithRetry;
    private sendSingleCommand;
    disconnect(): void;
    private handleMessage;
    private handleLoginResponse;
    private handleCommandResponse;
    private updateLatencyStats;
    private handleServerMessage;
    private nextSequence;
    private startKeepAlive;
    private stopKeepAlive;
    getCommands(): Promise<string>;
    getVersion(): Promise<string>;
    getPlayers(): Promise<string>;
    getBans(): Promise<string>;
    getAdmins(): Promise<string>;
    kick(playerId: number | string, reason?: string): Promise<string>;
    ban(playerId: number | string, minutes?: number, reason?: string): Promise<string>;
    addBan(identifier: string, minutes?: number, reason?: string): Promise<string>;
    removeBan(banId: number | string): Promise<string>;
    writeBans(): Promise<string>;
    loadBans(): Promise<string>;
    say(message: string, playerId?: number | string): Promise<string>;
}
